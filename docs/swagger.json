{"openapi":"3.0.0","paths":{"/api/v1":{"get":{"operationId":"AppController_get","summary":"","description":"Just get info that the application is up and running","parameters":[],"responses":{"204":{"description":""}},"tags":["Healthcheck"]}},"/api/v1/status":{"get":{"operationId":"AppController_getStatus","summary":"","description":"Get info about working application","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppStatusSchemaResponse"}}}}},"tags":["Healthcheck"]}},"/api/v1/bucket":{"get":{"operationId":"CacheBucketController_getAllBucketIds","parameters":[],"responses":{"200":{"description":""}},"tags":["Cache buckets"]}},"/api/v1/bucket/{ids}":{"delete":{"operationId":"CacheBucketController_deleteBucketIds","parameters":[{"name":"ids","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Cache buckets"]}},"/api/v1/auth/local/signup":{"post":{"operationId":"AuthJwtController_signupLocal","summary":"","description":"Signup locally","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSignupLocalRequest"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSignupLocalResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}}},"tags":["Authorization JWT"]}},"/api/v1/auth/local/confirm":{"get":{"operationId":"AuthJwtController_signupLocalConfirm","summary":"","description":"Confirm email registration","parameters":[{"name":"token","required":true,"in":"query","description":"Token sent to your email address","example":"1234","schema":{"minLength":1,"type":"string"}}],"responses":{"301":{"description":""},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponse"}}}}},"tags":["Authorization JWT"]}},"/api/v1/auth/local/jwt/login":{"post":{"operationId":"AuthJwtController_loginLocalJwt","summary":"","description":"Signin locally (JWT)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginLocalJwtRequest"}}}},"responses":{"204":{"description":""},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}}},"tags":["Authorization JWT"]}},"/api/v1/auth/local/jwt/refresh":{"post":{"operationId":"AuthJwtController_refreshTokens","summary":"","description":"Refresh tokens (JWT)","parameters":[],"responses":{"204":{"description":""},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}}},"tags":["Authorization JWT"]}},"/api/v1/auth/jwt/logout":{"post":{"operationId":"AuthJwtController_logout","summary":"","description":"Logout","parameters":[],"responses":{"204":{"description":""},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}}},"tags":["Authorization JWT"]}},"/api/v1/auth/session/login":{"post":{"operationId":"AuthSessionController_loginLocal","summary":"","description":"Signin locally (session)","parameters":[],"responses":{"204":{"description":""},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}}},"tags":["Authorization Session"]}},"/api/v1/auth/session/logout":{"post":{"operationId":"AuthSessionController_logout","summary":"","description":"Logout (session)","parameters":[],"responses":{"204":{"description":""},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}}},"tags":["Authorization Session"]}},"/api/v1/auth/session/status":{"get":{"operationId":"AuthSessionController_test","summary":"","description":"Just test (session)","parameters":[],"responses":{"200":{"description":""}},"tags":["Authorization Session"]}},"/api/v1/certificate/generate":{"post":{"operationId":"CertificateController_generateCertificate","summary":"","description":"Generate PDF certificate for any user (admin only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificateGenerateRequest"}}}},"responses":{"201":{"description":""},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}},"403":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenRequest"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponse"}}}}},"tags":["Certificate"]}},"/api/v1/certificate/generate/own":{"post":{"operationId":"CertificateController_generateOwnCertificate","summary":"","description":"Generate PDF certificate (for user himself)","parameters":[],"responses":{"201":{"description":""},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponse"}}}}},"tags":["Certificate"]}},"/api/v1/certificate":{"get":{"operationId":"CertificateController_findAllCertificate","summary":"","description":"Find all certificates (admin only)","parameters":[],"responses":{"200":{"description":"","content":{"application/zip":{"schema":{"anyOf":[{"$ref":"#/components/schemas/CertificateFindAllPdfResponse"},{"$ref":"#/components/schemas/CertificateFindAllZipResponse"}]}},"application/pdf":{"schema":{"anyOf":[{"$ref":"#/components/schemas/CertificateFindAllPdfResponse"},{"$ref":"#/components/schemas/CertificateFindAllZipResponse"}]}}}},"401":{"description":"","content":{"application/zip":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}},"application/pdf":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}},"403":{"description":"","content":{"application/zip":{"schema":{"$ref":"#/components/schemas/ForbiddenRequest"}},"application/pdf":{"schema":{"$ref":"#/components/schemas/ForbiddenRequest"}}}}},"tags":["Certificate"]}},"/api/v1/certificate/own":{"get":{"operationId":"CertificateController_findOwnCertificates","summary":"","description":"Find own certificates","parameters":[],"responses":{"200":{"description":"","content":{"application/zip":{"schema":{"anyOf":[{"$ref":"#/components/schemas/CertificateFindAllPdfResponse"},{"$ref":"#/components/schemas/CertificateFindAllZipResponse"}]}},"application/pdf":{"schema":{"anyOf":[{"$ref":"#/components/schemas/CertificateFindAllPdfResponse"},{"$ref":"#/components/schemas/CertificateFindAllZipResponse"}]}}}},"401":{"description":"","content":{"application/zip":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}},"application/pdf":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}}},"tags":["Certificate"]}},"/api/v1/certificate/{certificateId}":{"delete":{"operationId":"CertificateController_deleteCertificate","summary":"","description":"Delete PDF certificate for any user (admin only)","parameters":[{"name":"certificateId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificateDeleteByIdResponse"}}}},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedRequest"}}}},"403":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenRequest"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponse"}}}}},"tags":["Certificate"]}}},"info":{"title":"Nest monolite template","description":"The nest template API","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"AppStatusSchemaResponse":{"type":"object","properties":{"system":{"type":"object","properties":{"version":{"type":"string"},"type":{"type":"string"},"release":{"type":"string"},"architecture":{"type":"string"},"endianness":{"type":"string"},"uptime":{"type":"number"}},"required":["version","type","release","architecture","endianness","uptime"]},"cpus":{"type":"array","items":{"type":"object","properties":{"model":{"type":"string"},"speed":{"type":"number"},"times":{"type":"object","properties":{"user":{"type":"number"},"nice":{"type":"number"},"sys":{"type":"number"},"idle":{"type":"number"},"irq":{"type":"number"}},"required":["user","nice","sys","idle","irq"]}},"required":["model","speed","times"]}},"memory":{"type":"object","properties":{"total":{"type":"number"},"free":{"type":"number"}},"required":["total","free"]},"network":{"type":"object","properties":{"interfaces":{"type":"object","additionalProperties":{"type":"array","items":{"type":"object","properties":{}}}}},"required":["interfaces"]}},"required":["system","cpus","memory","network"]},"AuthSignupLocalRequest":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"User's email","example":"anystring@gmail.com"},"username":{"type":"string","minLength":1,"description":"User's email","example":"anystring@gmail.com"},"password":{"type":"string","minLength":1,"description":"User's password","example":"qwerty123"}},"required":["email","username","password"]},"AuthSignupLocalResponse":{"type":"object","properties":{"id":{"type":"number","description":"User's id","example":1},"email":{"type":["string","null"],"format":"email","description":"User's email","example":"anystring@gmail.com"},"username":{"type":["string","null"],"minLength":1,"description":"User's username","example":"anyusername"},"provider":{"type":"string","enum":["LOCAL","GMAIL"],"description":"User's provider","example":"LOCAL"},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN"]},"minItems":1,"description":"User's role","example":"['USER']"}},"required":["id","email","username","provider","roles"]},"BadRequest":{"type":"object","properties":{"message":{"type":"string","description":"Error message","example":"User with such email already exists!"},"statusCode":{"type":"number","enum":[400],"description":"Error status code","example":400},"errorName":{"type":"string","enum":["BadRequestException"],"description":"Error name","example":"BadRequestException"},"timestamp":{"type":"string","format":"date-time","description":"ISO 8601 datetime of request","example":"2024-01-01T00:00:00Z"},"path":{"type":"string","description":"Path to endpoint on the server","example":"api/v1/auth/local/signup"}},"required":["message","statusCode","errorName","timestamp","path"]},"NotFoundResponse":{"type":"object","properties":{"message":{"type":"string","description":"Error message","example":"User not found"},"statusCode":{"type":"number","enum":[404],"description":"Error status code","example":404},"errorName":{"type":"string","enum":["NotFoundException"],"description":"Error name","example":"NotFoundException"},"timestamp":{"type":"string","format":"date-time","description":"ISO 8601 datetime of request","example":"2024-01-01T00:00:00Z"},"path":{"type":"string","description":"Path to endpoint on the server","example":"api/v1/certificate/generate"}},"required":["message","statusCode","errorName","timestamp","path"]},"AuthLoginLocalJwtRequest":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"Please give me a email","example":"anystring@gmail.com"},"password":{"type":"string","minLength":6,"description":"Please give me a password","example":"elaboratedPassword123"}},"required":["email","password"],"additionalProperties":false},"UnauthorizedRequest":{"type":"object","properties":{"message":{"type":"string","description":"Error message","example":"Unauthorized"},"statusCode":{"type":"number","enum":[401],"description":"Error status code","example":401},"errorName":{"type":"string","enum":["UnauthorizedException"],"description":"Error name","example":"UnauthorizedException"},"timestamp":{"type":"string","format":"date-time","description":"ISO 8601 datetime of request","example":"2024-01-01T00:00:00Z"},"path":{"type":"string","description":"Path to endpoint on the server","example":"api/v1/auth/jwt/logout"}},"required":["message","statusCode","errorName","timestamp","path"]},"CertificateGenerateRequest":{"type":"object","properties":{"userId":{"type":"number","example":1,"description":"User's id"}},"required":["userId"]},"ForbiddenRequest":{"type":"object","properties":{"message":{"type":"string","enum":["Forbidden resource"],"description":"Error message","example":"Forbidden resource"},"statusCode":{"type":"number","enum":[401],"description":"Error status code","example":403},"errorName":{"type":"string","enum":["ForbiddenException"],"description":"Error name","example":"ForbiddenException"},"timestamp":{"type":"string","format":"date-time","description":"ISO 8601 datetime of request","example":"2024-01-01T00:00:00Z"},"path":{"type":"string","description":"Path to endpoint on the server","example":"api/v1/auth/jwt/logout"}},"required":["message","statusCode","errorName","timestamp","path"]},"CertificateFindAllPdfResponse":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"File type: pdf"}},"required":["file"]},"CertificateFindAllZipResponse":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"File type: zip"}},"required":["file"]},"CertificateDeleteByIdResponse":{"type":"object","properties":{"userId":{"type":"number","example":1,"description":"User's id of deleted certificate"}},"required":["userId"]}}}}